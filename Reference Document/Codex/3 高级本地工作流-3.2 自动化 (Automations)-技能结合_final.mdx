---
title: "技能结合"
description: "了解如何结合使用 Codex 技能来扩展代理能力，包括创建、管理和使用技能"
tool: "codex"
slug: "skills"
---

import { AdPlaceholder } from '@/components/AdPlaceholder'
import { Callout } from '@/components/Callout'

# 代理技能

使用代理技能扩展 Codex 的任务特定能力。技能打包指令、资源和可选脚本，以便 Codex 可以可靠地遵循工作流。您可以跨团队或与社区共享技能。技能基于[开放代理技能标准](https://agentskills.io)。

技能在 Codex CLI、IDE 扩展和 Codex 应用中可用。

技能使用**渐进式披露**来高效管理上下文：Codex 从每个技能的元数据（`name`、`description`、文件路径和来自 `agents/openai.yaml` 的可选元数据）开始。仅当 Codex 决定使用技能时，才会加载完整的 `SKILL.md` 指令。

技能是一个包含 `SKILL.md` 文件加上可选脚本和引用的目录。`SKILL.md` 文件必须包含 `name` 和 `description`。

<FileTree>
  tree={[
    {
      name: "my-skill/",
      open: true,
      children: [
        {
          name: "SKILL.md",
          comment: "必需：指令 + 元数据",
        },
        {
          name: "scripts/",
          comment: "可选：可执行代码",
        },
        {
          name: "references/",
          comment: "可选：文档",
        },
        {
          name: "assets/",
          comment: "可选：模板、资源",
        },
        {
          name: "agents/",
          open: true,
          children: [
            {
              name: "openai.yaml",
              comment: "可选：外观和依赖",
            },
          ],
        },
      ],
    },
  ]}
/>

<AdPlaceholder />

## Codex 如何使用技能

Codex 可以通过两种方式激活技能：

1. **显式调用：** 直接在提示词中包含技能。在 CLI/IDE 中，运行 `/skills` 或键入 `$` 以提及技能。
2. **隐式调用：** 当您的任务与技能 `description` 匹配时，Codex 可以选择技能。

因为隐式匹配取决于 `description`，请编写具有清晰范围和边界的描述。

## 创建技能

首先使用内置创建者：

```
$skill-creator
```

创建者会询问技能的作用、触发时机，以及它应该保持纯指令还是包含脚本。纯指令是默认值。

您也可以通过创建带有 `SKILL.md` 文件的文件夹手动创建技能：

```md
---
name: skill-name
description: 准确解释此技能何时应该和不应该触发。
---

Codex 遵循的技能指令。
```

Codex 会自动检测技能更改。如果更新未出现，请重启 Codex。

## 保存位置

Codex 从存储库、用户、管理员和系统位置读取技能。对于存储库，Codex 扫描您当前工作目录中每个目录下的 `.agents/skills`，直到存储库根目录。如果两个技能共享相同的 `name`，Codex 不会合并它们；两者都可以出现在技能选择器中。

| 技能范围 | 位置 | 建议用途 |
| -------- | ---- | -------- |
| `REPO` | `$CWD/.agents/skills` <br /> 当前工作目录：启动 Codex 的位置 | 如果您在存储库或代码环境中，团队可以检查与工作文件夹相关的技能。例如，仅与微服务或模块相关的技能。 |
| `REPO` | `$CWD/../.agents/skills` <br /> 当您在 Git 存储库内启动 Codex 时 CWD 上方的文件夹 | 如果您在具有嵌套文件夹的存储库中，组织可以在父文件夹中的共享区域检查与共享区域相关的技能。 |
| `REPO` | `$REPO_ROOT/.agents/skills` <br /> 当您在 Git 存储库内启动 Codex 时最顶层的根文件夹 | 如果您在具有嵌套文件夹的存储库中，组织可以检查与使用存储库的每个人相关的技能。这些作为根技能可用，可供存储库中的任何子文件夹使用。 |
| `USER` | `$HOME/.agents/skills` <br /> 检查到用户个人文件夹中的任何技能 | 用于策划适用于用户但适用于用户可能工作的任何存储库的技能。 |
| `ADMIN` | `/etc/codex/skills` <br /> 检查到机器或容器中共享、系统位置的任何技能 | 用于 SDK 脚本、自动化，以及检查可用的默认管理员技能，供机器上的每个用户使用。 |
| `SYSTEM` | 由 OpenAI 捆绑在 Codex 中 | 与广泛受众相关的技能，例如技能创建者和计划技能。启动 Codex 时对所有人可用。 |

Codex 支持符号链接的技能文件夹，并在扫描这些位置时遵循符号链接目标。

## 安装技能

要安装内置技能以外的技能，使用 `$skill-installer`：

```bash
$skill-installer install the linear skill from the .experimental folder
```

您还可以提示安装程序从其他存储库下载技能。Codex 会自动检测新安装的技能；如果没有出现，请重启 Codex。

## 启用或禁用技能

使用 `[[skills.config]]` 条目在 `~/.codex/config.toml` 中禁用技能而不删除它：

```toml
[[skills.config]]
path = "/path/to/skill/SKILL.md"
enabled = false
```

更改 `~/.codex/config.toml` 后重启 Codex。

## 可选的 UI 和依赖元数据

要配置技能在 [Codex 应用](https://developers.openai.com/codex/app) 中的外观或声明 MCP 依赖项，添加 `agents/openai.yaml`：

```yaml
interface:
  display_name: "可选的用户界面名称"
  short_description: "可选的用户界面描述"
  icon_small: "./assets/small-logo.svg"
  icon_large: "./assets/large-logo.png"
  brand_color: "#3B82F6"
  default_prompt: "使用技能的周围提示词（可选）"

dependencies:
  tools:
    - type: "mcp"
      value: "openaiDeveloperDocs"
      description: "OpenAI Docs MCP 服务器"
      transport: "streamable_http"
      url: "https://developers.openai.com/mcp"
```

## 最佳实践

- 让每个技能专注于一个工作。
- 除非需要确定性行为或外部工具，否则优先使用指令而不是脚本。
- 编写具有明确输入和输出的命令式步骤。
- 针对技能描述测试提示词以确认正确的触发行为。

更多示例，请参阅 [github.com/openai/skills](https://github.com/openai/skills) 和[代理技能规范](https://agentskills.io/specification)。

<AdPlaceholder />
