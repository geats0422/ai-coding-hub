---
title: 网络设置
tool: "opencode"
slug: network
description: 为企业网络环境配置代理和自定义证书。
---

import { AdPlaceholder } from '@/components/AdPlaceholder'
import { Callout } from '@/components/Callout'

<AdPlaceholder />

OpenCode 支持标准代理环境变量和企业网络环境的自定义证书。

## 代理

OpenCode 支持标准代理环境变量。

```bash
# HTTPS 代理（推荐）
export HTTPS_PROXY=https://proxy.example.com:8080

# HTTP 代理（如果 HTTPS 不可用）
export HTTP_PROXY=http://proxy.example.com:8080

# 绕过本地服务器的代理（必需）
export NO_PROXY=localhost,127.0.0.1
```

<Callout type="warning">
TUI 与本地 HTTP 服务器通信。你必须绕过该连接以防止路由循环。
</Callout>

你可以使用命令行标志配置服务器的端口和主机名。

## 身份验证

如果你的代理需要基本身份验证，请在 URL 中包含凭据。

```bash
export HTTPS_PROXY=http://username:password@proxy.example.com:8080
```

<Callout type="warning">
避免硬编码密码。使用环境变量或安全的凭据存储。
</Callout>

对于需要高级身份验证（如 NTLM 或 Kerberos）的代理，请考虑使用支持你身份验证方法的 LLM 网关。

## 自定义证书

如果你的企业使用自定义 CA 进行 HTTPS 连接，请配置 OpenCode 信任它们。

```bash
export NODE_EXTRA_CA_CERTS=/path/to/ca-cert.pem
```

这对代理连接和直接 API 访问都有效。

<AdPlaceholder />
